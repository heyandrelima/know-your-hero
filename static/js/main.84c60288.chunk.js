(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,a){e.exports=a(33)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(8),l=a.n(c),i=a(2),o=(a(27),a(7)),s=a(5),u={characters:[]},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_CHARACTER":var a=t.payload;return{characters:[].concat(Object(s.a)(e.characters),[a])};case"REMOVE_CHARACTER":var n,r=e.characters,c=t.payload;return e.characters.forEach(function(e,t){e.id===c.id&&(n=t)}),r.splice(n,1),{characters:Object(s.a)(r)};default:return e}},d={stats:[]},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_STAT":var a=t.payload,n=e.stats;return n[a.name]?n[a.name].push(a.data):n[a.name]=[a.data],{stats:n};case"REMOVE_STAT":var r=t.payload.key,c=t.payload.id,l=e.stats,i=0;return l[r].forEach(function(e,t){e.id===c&&(i=t)}),l[r].splice(i,1),{stats:l};case"REMOVE_CHAR_STATS":var o=t.payload.id,u=e.stats,m=Object.keys(u),p=u;return m.forEach(function(e){p[e]=u[e].filter(function(e){return e.id!==o})}),{stats:Object(s.a)(p)};default:return e}},f=Object(o.b)({characters:m,stats:p}),h=Object(o.c)(f),E=a(3),g=(a(28),function(e){var t=e.result,a=e.delay||0;return r.a.createElement("div",{onClick:e.onClick,className:"search-result",style:{animationDelay:a}},r.a.createElement("img",{src:t.image.url,alt:t.name,style:{animationDelay:a+200}}),r.a.createElement("div",{className:"search-result__info"},r.a.createElement("h4",null,t.name),r.a.createElement("p",null,t.biography["full-name"]),r.a.createElement("i",null,t.biography.publisher)))}),y=new AbortController,v=y.signal,b={input:{width:"calc(100% - 1em)",fontSize:"1.4em",padding:"0.2em 0.4em",border:"1px solid #ccc"},resultsHolder:{position:"absolute",width:"100%",maxHeight:"50vh",overflowY:"auto",backgroundColor:"#fff",zIndex:1}},x=function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(""),o=Object(E.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)([]),d=Object(E.a)(m,2),p=d[0],f=d[1],h=Object(i.b)(),x=function(e){y.abort();var t=e.target.value;c(t),a.length>=3&&a!==s?w():0===a.length&&f([])},w=function(){y=new AbortController,v=y.signal;var e="https://superheroapi.com/api.php/".concat("502091537218080","/search/")+a,t={method:"GET",mode:"cors",signal:v};setTimeout(function(){fetch(e,t).then(function(e){e.json().then(function(e){return f(e.results)})}).catch(function(e){return console.log("Error!",e)}),u(a)},200)};return r.a.createElement("div",null,r.a.createElement("input",{type:"text",style:b.input,name:"q",autoComplete:"off",placeholder:"Search",value:a,onChange:x,onKeyUp:x}),r.a.createElement("div",{style:b.resultsHolder},p?p.map(function(e,t){return r.a.createElement(g,{onClick:function(){return h({type:"ADD_CHARACTER",payload:e}),u(""),c(""),void f([])},result:e,delay:100*t,key:e.id})}):""))},w=a(16),O=(a(29),a(17)),A=a(1),j=function(e){var t=e.title,a=e.min,c=e.max,l=e.color,o=e.target,s=e.duration,u=e.character,m=e.id||t+u.id,d=e.delay||0,p=[o,c-o],f=Math.min(200,200)/2-10,h=f-20,g=Object(n.useState)(!1),y=Object(E.a)(g,2),v=y[0],b=y[1],x=Object(i.b)();return Object(n.useEffect)(function(){!function(){var e=A.g("#stats-".concat(m)).select("svg").html("").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(200," ").concat(200)),t=e.append("g").attr("transform","translate(".concat(100,", ").concat(100,")")),n=e.append("g").attr("transform","translate(".concat(100,", ").concat(100,")")),r=A.f().value(function(e){return e.value}),c=r(A.b(p)).filter(function(e,t){return 0===t}),i=A.a().innerRadius(h).outerRadius(f).cornerRadius(f),u=r(A.b([100]));t.append("path").attr("d",i(u[0])).attr("fill","#ccc"),n.selectAll("path").data(c).enter().append("path").attr("d","").attr("fill",l).transition().duration(s).attrTween("d",function(e){var t=Object(O.a)({},e),a=A.c(t.startAngle,t.endAngle);return function(e){return t.endAngle=a(e),i(t)}}).delay(d),n.append("text").text(o).style("font-size","2em").attr("x",function(e,t,a){return 0-a[t].getBBox().width/2}).text(a).attr("y",function(e,t,a){return 0+a[t].getBBox().height/2}).transition().duration(s).tween("text",function(e,t,n){var r=n[t],c=A.d(a,o);return function(e){var t=parseInt(c(e));return A.g(r).text(t)}}).delay(d)}()},[]),v&&A.g("#stats-".concat(m)).select("svg").select("text").style("font-weight","bold"),r.a.createElement("div",{id:"stats-".concat(m),style:{cursor:"pointer"},className:"circular-stat",onClick:function(){v?(A.g("#stats-".concat(m)).select("svg").select("text").style("font-weight","normal"),x({type:"REMOVE_STAT",payload:{key:t,id:u.id}}),b(!1)):function(){var e={name:t,data:{character:u.name,"full-name":u.biography["full-name"],value:o,color:l,id:u.id}};x({type:"ADD_STAT",payload:e}),b(!0)}()}},r.a.createElement("h4",{style:{textAlign:"center",textTransform:"capitalize"}},t),r.a.createElement("svg",null))},C=w.a.div({closed:{height:0},open:{height:"auto"}}),k=function(e){var t=e.character,a=e.units,c=Object(n.useState)("stats"),l=Object(E.a)(c,2),o=l[0],s=l[1],u=Object(i.b)(),m=Object.keys(t.powerstats).map(function(e){return[e,t.powerstats[e]]}),d=function(e){s(o!==e?e:"")};return Object(n.useEffect)(function(){return function(){console.log("will unmonunt")}},[]),r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-header"},r.a.createElement("span",{className:"remove-card",onClick:function(){return u({type:"REMOVE_CHARACTER",payload:t}),void u({type:"REMOVE_CHAR_STATS",payload:{id:t.id}})}},"\xd7"),r.a.createElement("img",{src:t.image.url,alt:t.name}),r.a.createElement("h1",{className:"card-name"},t.name),r.a.createElement("h2",{className:"margin-0"},t.biography["full-name"]),r.a.createElement("i",null,t.biography.publisher)),r.a.createElement("div",{className:"accordion ".concat("biography"===o?"open":"")},r.a.createElement("h2",{onClick:function(){return d("biography")}},"Biography"),r.a.createElement(C,{pose:"biography"===o?"open":"closed",className:"accordion__content"},r.a.createElement("div",{className:"single-line"},r.a.createElement("h4",null,"Place of birth"),r.a.createElement("p",null,t.biography["place-of-birth"])),r.a.createElement("div",{className:"single-line"},r.a.createElement("h4",null,"Race"),r.a.createElement("p",null,t.appearance.race)),r.a.createElement("div",{className:"single-line"},r.a.createElement("h4",null,"Gender"),r.a.createElement("p",null,t.appearance.gender)),r.a.createElement("div",{className:"single-line"},r.a.createElement("h4",null,"Height"),r.a.createElement("p",null,"imperial"===a?t.appearance.height[0]:t.appearance.height[1])),r.a.createElement("div",{className:"single-line"},r.a.createElement("h4",null,"Weight"),r.a.createElement("p",null,"imperial"===a?t.appearance.weight[0]:t.appearance.weight[1])),r.a.createElement("h4",null,"Family"),r.a.createElement("p",null,t.connections.relatives),r.a.createElement("div",{className:"single-line"},r.a.createElement("h4",null,"Work"),r.a.createElement("p",null,t.work.occupation)),r.a.createElement("div",{className:"single-line"},r.a.createElement("h4",null,"First appearance"),r.a.createElement("p",null,t.biography["first-appearance"])),r.a.createElement("h4",null,"Aliases"),r.a.createElement("ul",{className:"aliases"},t.biography.aliases.map(function(e,t){return r.a.createElement("li",{key:t},e)})),r.a.createElement("h4",null,"Alter egos"),r.a.createElement("p",null,t.biography["alter-egos"]))),r.a.createElement("div",{className:"accordion ".concat("stats"===o?"open":"")},r.a.createElement("h2",{onClick:function(){return d("stats")}},"Stats"),r.a.createElement(C,{pose:"stats"===o?"open":"closed",className:"accordion__content"},m.map(function(e,a){var n=function(){for(var e="#",t=0;t<6;t++)e+="0123456789ABCDEF"[Math.floor(16*Math.random())];return e}();return r.a.createElement(j,{key:a,title:e[0],min:0,max:100,color:n,target:e[1],duration:1e3,delay:100*a,character:t})}))))},R=function(){var e=Object(i.c)(function(e){return e.characters.characters});return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("div",{style:{width:"100%",overflowX:"auto"}},e?e.map(function(e,t){return r.a.createElement(k,{key:e.id,character:e})}):""))},T=a(15),N=function(e){var t=e.name,a=e.data,c=e.duration,l=e.id,i=function(){var e=[];a.forEach(function(t,a){e.push(parseFloat(t.value))});var n=15*e.length+5,r=1.3*parseInt(.5*A.e(e)),i=A.g("#stats-".concat(l));i.html(""),i.append("h4").text(function(){return t}).style("text-transform","capitalize").style("font-size","1.4em").style("text-align","center");var o=i.append("svg").attr("preserveAspectRatio","xMaxYMin meet").attr("viewBox","0 0 ".concat(n," ").concat(r)).style("overflow","visible").attr("stroke",1);o.append("g").attr("class","inside-rect").style("transform","translate(0, -5%)"),o.append("g").attr("class","labels-group").style("transform","translate(0, 100%)").selectAll("text").data(a).enter().append("text").text(function(e){return e.character}).style("font-size","10%").style("font-weight",function(t,a){if(t.value===A.e(e))return"bold"}).attr("x",function(e,t,a){return 5+15*t+(10-a[t].getBBox().width)/2}),o.select(".inside-rect").selectAll("rect").data(e).enter().append("rect").attr("width",10).attr("height",0).attr("fill",function(e,t){return a[t].color}).attr("x",function(e,t){return 15*t+5}).attr("y",r).transition().duration(c).attr("height",function(e){return.5*e}).attr("y",function(e){return r-.5*e}).delay(function(e,t){return 200*t}),o.select(".inside-rect").selectAll("text").data(e).enter().append("text").style("font-size","25%").style("font-weight",function(t,a){if(t===A.e(e))return"bold"}).text(function(e){return e}).attr("x",function(e,t,a){return 5+15*t+(10-a[t].getBBox().width)/2}).attr("y",r-1).text(0).transition().duration(c).tween("text",function(e,t,a){var n=a[t],r=A.d(n.textContent,e);return function(e){var t=parseInt(Object(T.format)(r(e)));return A.g(n).text(t)}}).attr("y",function(e){return r-.5*e-1}).delay(function(e,t){return 200*t})};return Object(n.useEffect)(function(){i()},[]),i(),r.a.createElement("div",{id:"stats-".concat(l),style:{width:"300px",marginBottom:"1em",marginTop:"1em"}})},_=function(){var e=Object(i.d)(),t=Object(i.c)(function(e){return e}),a=Object(n.useState)([]),c=Object(E.a)(a,2),l=c[0],o=c[1];return e.subscribe(function(){var e=t.stats.stats,a=Object.keys(e).map(function(t){return[t,e[t]]});o(Object(s.a)(a))}),r.a.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},l.length>0?l.map(function(e,t){return e[1].length>0?r.a.createElement(N,{key:t,id:t,duration:1e3,name:e[0],data:e[1]}):null}):"")};var S=function(){return console.log(),r.a.createElement("div",null,r.a.createElement("h1",null,"Know Your Hero"),r.a.createElement(x,null),r.a.createElement(R,null),r.a.createElement(_,null))};l.a.render(r.a.createElement(i.a,{store:h},r.a.createElement(S,null)),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.84c60288.chunk.js.map